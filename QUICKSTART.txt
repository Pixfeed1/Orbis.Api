â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                        â•‘
â•‘   ğŸš€ RÃ‰CUPÃ‰RATION POSTGRESQL/ZAMMAD - DÃ‰MARRAGE ULTRA-RAPIDE          â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ FICHIERS INCLUS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… zammad_recovery_ultimate.sh    - Script principal (7 techniques)
âœ… analyze_recovered_files.sh     - Analyseur de rÃ©sultats
âœ… quickstart.sh                   - DÃ©marrage automatique
ğŸ“– GUIDE_UTILISATION.md            - Guide complet dÃ©taillÃ©
ğŸ“– README_RECOVERY.md              - Vue d'ensemble et docs
ğŸ“„ QUICKSTART.txt                  - Ce fichier

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


âš¡ OPTION 1: DÃ‰MARRAGE AUTOMATIQUE (RECOMMANDÃ‰)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Copiez/collez ces 2 commandes:

    cd /chemin/vers/scripts
    sudo ./quickstart.sh

Le script fera TOUT automatiquement:
â€¢ VÃ©rification des prÃ©requis
â€¢ Installation des outils manquants
â€¢ Configuration du device loop
â€¢ RÃ©cupÃ©ration complÃ¨te (90-180 min)
â€¢ Analyse automatique des rÃ©sultats

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


âš™ï¸  OPTION 2: LANCEMENT MANUEL (CONTRÃ”LE TOTAL)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ã‰tape 1: PrÃ©paration (5 min)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    # Installer les outils
    sudo apt update
    sudo apt install -y e2fsprogs scalpel binwalk

    # Monter l'image en loop
    sudo losetup -fP /mnt/d/rescue/vps-sda1.img

    # VÃ©rifier le device assignÃ©
    losetup -a
    # Devrait afficher: /dev/loop0: [...]


Ã‰tape 2: RÃ©cupÃ©ration (90-180 min)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    # Lancer le script principal
    sudo ./zammad_recovery_ultimate.sh /dev/loop0 /mnt/d/recovery_output

    # Le script va exÃ©cuter 7 techniques de rÃ©cupÃ©ration:
    # [1/7] DEBUGFS - Inodes supprimÃ©s
    # [2/7] SCALPEL - Carving par signatures
    # [3/7] BINWALK - Extraction archives
    # [4/7] STRINGS - Recherche patterns
    # [5/7] EXTRACTION MANUELLE - Offsets
    # [6/7] FOCUS DOCKER - Volumes Zammad
    # [7/7] DÃ‰COMPRESSION - Archives .gz


Ã‰tape 3: Analyse (10-20 min)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    # Consulter le rapport
    cat /mnt/d/recovery_output/reports/RAPPORT_FINAL.txt

    # Lancer l'analyse automatique
    ./analyze_recovered_files.sh /mnt/d/recovery_output

    # VÃ©rifier les meilleurs candidats
    ls -lh /mnt/d/recovery_output/BEST_CANDIDATES/


Ã‰tape 4: Validation (5-10 min)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    # Pour chaque fichier trouvÃ©:
    cd /mnt/d/recovery_output/BEST_CANDIDATES

    # Examiner le contenu
    head -100 fichier.sql
    file fichier.sql

    # Tester la restauration
    sudo -u postgres psql -d test_db -f fichier.sql


Ã‰tape 5: Nettoyage
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    # DÃ©monter le device loop
    sudo losetup -d /dev/loop0

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


ğŸ“‹ VOTRE CONFIGURATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Image disque     : /mnt/d/rescue/vps-sda1.img
Taille           : 158 GB (ext4)
Sortie par dÃ©faut: /mnt/d/recovery_output

Date suppression : 10 novembre 2025
Date clone       : 12 novembre 2025
RÃ©installation   : 10 novembre soir (âš ï¸ Ã©crasement partiel)

Cibles:
â€¢ Backups PostgreSQL (.sql, .psql, .psql.gz)
â€¢ Base zammad_production
â€¢ Volumes Docker zammad-docker-compose_*

Estimation: 30-50% de rÃ©cupÃ©ration possible

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


â±ï¸  DURÃ‰ES ESTIMÃ‰ES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DEBUGFS (inodes)         :  5-10 min
SCALPEL (signatures)     : 30-60 min  â³ (le plus long)
BINWALK (archives)       : 20-40 min
STRINGS (patterns)       : 10-20 min
EXTRACTION MANUELLE      : 15-30 min
FOCUS DOCKER             :  5-10 min
DÃ‰COMPRESSION            :  5-10 min

TOTAL                    : 90-180 minutes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


ğŸ“‚ STRUCTURE DES RÃ‰SULTATS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

recovery_output/
â”œâ”€â”€ BEST_CANDIDATES/         ğŸ¯ Ã€ VÃ‰RIFIER EN PRIORITÃ‰
â”‚   â””â”€â”€ [fichiers prometteurs avec score Ã©levÃ©]
â”‚
â”œâ”€â”€ 1_debugfs/
â”‚   â””â”€â”€ recovered_inode_*    â† Fichiers rÃ©cupÃ©rÃ©s par inode
â”‚
â”œâ”€â”€ 2_scalpel/
â”‚   â””â”€â”€ output/sql-*/        â† Fichiers SQL trouvÃ©s par signature
â”‚
â”œâ”€â”€ 5_manual/
â”‚   â””â”€â”€ fragment_*.raw       â† Fragments extraits des offsets
â”‚
â””â”€â”€ reports/
    â”œâ”€â”€ RAPPORT_FINAL.txt    ğŸ“‹ Rapport complet
    â””â”€â”€ recovery.log         ğŸ“ Log dÃ©taillÃ©

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


âš ï¸  AVANT DE COMMENCER - CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â–¡ J'ai au moins 20-30 GB d'espace disque libre
â–¡ J'ai 2-3 heures devant moi (ne pas interrompre)
â–¡ L'image disque est accessible
â–¡ Je ne travaille PAS sur l'image originale (copie)
â–¡ Les scripts sont dans le mÃªme rÃ©pertoire

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


ğŸ†˜ DÃ‰PANNAGE RAPIDE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ProblÃ¨me: "Permission denied"
Solution: Utilisez sudo devant toutes les commandes

ProblÃ¨me: "Device not found"
Solution: sudo losetup -fP /mnt/d/rescue/vps-sda1.img

ProblÃ¨me: "Command not found" (debugfs/scalpel/binwalk)
Solution: sudo apt install -y e2fsprogs scalpel binwalk

ProblÃ¨me: "No space left on device"
Solution: LibÃ©rez de l'espace ou changez le rÃ©pertoire de sortie

ProblÃ¨me: Le script est trÃ¨s lent
RÃ©ponse: C'est NORMAL ! Scalpel seul prend 30-60 min sur 158GB

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


ğŸ’¡ ASTUCES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â€¢ Surveillez la progression:
  tail -f /mnt/d/recovery_output/reports/recovery.log

â€¢ VÃ©rifiez l'espace disque pendant l'exÃ©cution:
  watch -n 60 df -h /mnt/d

â€¢ Recherchez vos donnÃ©es spÃ©cifiques:
  grep -r "votre_mot_clÃ©" /mnt/d/recovery_output/

â€¢ Testez un fichier SQL rapidement:
  head -50 fichier.sql | grep -i "create\|insert\|postgresql"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


ğŸ“– DOCUMENTATION COMPLÃˆTE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Pour plus de dÃ©tails:

â€¢ README_RECOVERY.md      - Vue d'ensemble et fonctionnalitÃ©s
â€¢ GUIDE_UTILISATION.md    - Instructions dÃ©taillÃ©es pas Ã  pas

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”


ğŸš€ LANCEMENT EN UNE COMMANDE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

    sudo ./quickstart.sh

C'est tout ! Le reste est automatique. âœ¨

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Bonne rÃ©cupÃ©ration ! ğŸ€

Kit crÃ©Ã© le 13 novembre 2025 | Version Ultimate Edition
